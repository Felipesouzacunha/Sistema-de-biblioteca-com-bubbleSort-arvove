package sistema;
import listaLigada.*;

public class Biblioteca {
	private ListaLigada<Livro> estante = new ListaLigada<>();
	AlgoritiroOrdenacao ordenador = new AlgoritiroOrdenacao();
	
	public void adicionarLivro(String titulo, String autor, int anoDePublicacao, String tema) {
		
		if(titulo != null && autor != null) {
			Livro novoLivro = new Livro(titulo, autor, anoDePublicacao, tema);
			estante.adicionar(novoLivro);
		}else {
			throw new IllegalArgumentException();
		}
		
	}
	
	public void removerLivro(String titulo) {
		estante.remover(titulo);
		No<Livro> atual = estante.getPrimeiro();
		No<Livro> anterior = null;
		while (atual != null) {
	        if (atual.getValor().getTitulo().equalsIgnoreCase(titulo)) {
	            if (anterior == null) {
	                // Estamos removendo o primeiro elemento
	                estante.setPrimeiro(atual.getProximo());
	            } else {
	                // Conectar o anterior ao próximo do atual
	                anterior.setProximo(atual.getProximo());
	            }
	            System.out.println("Livro removido: " + titulo);
	            return; // Sai do método
	        }
	        anterior = atual;
	        atual = atual.getProximo();
	    }
	    System.out.println("Livro não encontrado: " + titulo);
	}
	
	public void listarLivros() {
		for(int i = 0; i < estante.getTamanho(); i++) {
			System.out.println(estante.getNo(i).getValor());
		}
	}
	
	public void ordenarPorTitulo() {
		ordenador.bubbleSortPorTitulo(estante);
	}
	
	public void ordenarPorAutor() {
        ordenador.bubbleSortPorAutor(estante);
    }
	
	
}
